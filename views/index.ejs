<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Ethical Food Checker</title>
        <link rel="stylesheet" href="styles/style.css">
        <script type="module" src="scripts/main.js"></script>
    </head>
    <body>
        <a id="title"><h1>Ethical<br>Food Checker</h1></a>
        <button id="explanation">Explanation</button>
        <section>
            <button aria-label="Close">&#10007;</button>
            <h2>Explanation</h2>
            <p>
                <span>üêÑ</span><br>
                Vegetarian means no meat.<br>
                Eating vegetarian reduces your carbon footprint by 32%.<br><br>
                <span>üå±</span><br>
                Vegan means no animal products.<br>
                Eating vegan reduces your carbon footprint by 48%.<br><br>
                <span>üå¥</span><br>
                Palm oil free shopping helps prevent deforestation in the tropics.<br><br>
                <img src="https://static.openfoodfacts.org/images/icons/ecoscore-unknown.svg" alt="Eco-Score: unknown" id="ecoscore"><br>
                Eco-Score is an environmental score from A to E, which summarizes 15 environmental impacts.<br><br>
                <a href="https://www.vox.com/2014/7/2/5865109/study-going-vegetarian-could-cut-your-food-carbon-footprint-in-half" target="_blank">Source</a></p>
        </section>
        <form>
            <!-- https://stackoverflow.com/questions/4067469/selecting-all-text-in-html-text-input-when-clicked -->
            <input type="text" placeholder="Name or barcode" aria-label="Name or barcode" onClick="this.setSelectionRange(0, this.value.length)" required>
            <button type="button" aria-label="Barcode" class="barcode"><img src="./images/barcode.png" alt="Barcode"></img></button>
            <button type="submit">Search</button>
        </form>
        <div class="sort">
            <button class="popularity">Popularity</button>
            <button class="product_name">Product name</button>
            <button class="add_date">Recently added</button>
            <button class="edit_date">Recently edited</button>
        </div>
        <ul>
            <% data.forEach(function(product) { %>
                <li>
                    <div id="product">
                    <div id="frame">
                        <img src=<%= product.image_small_url ? product.image_small_url : '../images/placeholder-image.png' %> alt=<%= product.product_name %>>
                    </div>
                    <span><span id="name"><%= product.product_name %></span>
                    <p><%= product.ingredients_analysis_tags %>
                    <% if (product.ecoscore_grade != "unknown") { %>
                        <div id="tooltip"><img src="https://static.openfoodfacts.org/images/icons/ecoscore-<%= product.ecoscore_grade %>.svg" alt="Eco-Score: <%= product.ecoscore_grade.toUpperCase() %>" id="ecoscore"><span>Eco-Score</span></div></p><span>
                    <% } %>
                    <p><%= product.ingredients_text %></p>
                </li>
             <% }) %>
        </ul>
        <button class="more">More</button>
        <p class="instructions">Search for a product using the search bar above.</p>
        <div class="loader"></div>
    </body>
</html>